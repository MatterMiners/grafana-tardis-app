{"version":3,"sources":["../../../src/components/config/config.js"],"names":["TardisConfigCtrl","$scope","$injector","$q","enabled","appEditCtrl","setPostUpdateHook","postUpdate","bind","appModel","resolve","importDashboards","then","url","message","template","configTemplate"],"mappings":";;;;;;;AAAA;;;;;;;;;;IAEMA,gB;;;AACJ,4BAAYC,MAAZ,EAAoBC,SAApB,EAA+BC,EAA/B,EAAmC;AAAA;;AACjC,SAAKA,EAAL,GAAUA,EAAV;AACA,SAAKC,OAAL,GAAe,KAAf;AACA,SAAKC,WAAL,CAAiBC,iBAAjB,CAAmC,KAAKC,UAAL,CAAgBC,IAAhB,CAAqB,IAArB,CAAnC;AACD;;;;iCAEY;AAAA;;AACX,UAAI,CAAC,KAAKC,QAAL,CAAcL,OAAnB,EAA4B;AAC1B,eAAO,KAAKD,EAAL,CAAQO,OAAR,EAAP;AACD;;AACD,aAAO,KAAKL,WAAL,CAAiBM,gBAAjB,GAAoCC,IAApC,CAAyC,YAAM;AACpD,QAAA,KAAI,CAACR,OAAL,GAAe,IAAf;AACA,eAAO;AACLS,UAAAA,GAAG,EAAE,wBADA;AAELC,UAAAA,OAAO,EAAE;AAFJ,SAAP;AAID,OANM,CAAP;AAOD;;;;;;;AAGHd,gBAAgB,CAACe,QAAjB,GAA4BC,kBAA5B","sourcesContent":["import configTemplate from \"./config.html!text\";\n\nclass TardisConfigCtrl {\n  constructor($scope, $injector, $q) {\n    this.$q = $q;\n    this.enabled = false;\n    this.appEditCtrl.setPostUpdateHook(this.postUpdate.bind(this));\n  }\n\n  postUpdate() {\n    if (!this.appModel.enabled) {\n      return this.$q.resolve();\n    }\n    return this.appEditCtrl.importDashboards().then(() => {\n      this.enabled = true;\n      return {\n        url: \"dashboards/tardis-home\",\n        message: \"TARDIS Monitoring App enabled!\"\n      };\n    });\n  }\n}\n\nTardisConfigCtrl.template = configTemplate;\n\nexport {\n  TardisConfigCtrl as ConfigCtrl\n};\n"],"file":"config.js"}